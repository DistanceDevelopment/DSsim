#DDF ANALYSES
####################
#Spotted: ~ school size, ~ pd only (2A,2B - offshore spotted, 6 - coastal spotted, 90 - unidentified spotted)
#ddf.dat.spotted <- na.omit(ddf.dat[ddf.dat$species%in%c(2,6,90), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spotted <- na.omit(ddf.dat[ddf.dat$species%in%c("2A","2B",6,90), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spotted$scaledtotsize <- ddf.dat.spotted$totsize/sd(ddf.dat.spotted$totsize)
ddf.1 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.spotted, meta.data = list(width = 5.5))
#spot~size
ddf.2 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.spotted, meta.data = list(width = 5.5))                   #spot~1
#Spinner - ~ school size, ~ pd only (10 - eastern spinner, 11 - whitebelly spinner, 88 - Central American spinner dolphin, Costa Rican spinner dolphin, 100 - Tres Marias spinner dolphin, 101 - Southwestern spinner dolphin, 102 - Gray's spinner dolphin, pantropical spinner dolphin, 103 - Undetermined eastern or Central American spinner dolphin, 3 - unidentified spinner)
ddf.dat.spinner <- na.omit(ddf.dat[ddf.dat$species%in%c(10,11,88,100,101,102,103,3), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spinner$scaledtotsize <- ddf.dat.spinner$totsize/sd(ddf.dat.spinner$totsize)
ddf.3 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.spinner, meta.data = list(width = 5.5))   #spin~size
ddf.4 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.spinner, meta.data = list(width = 5.5))               #spin~1
#Striped:  ~ pd only, ~ school size, ~ time (13 - striped)
ddf.dat.striped <- na.omit(ddf.dat[ddf.dat$species%in%c(13), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.striped$scaledtotsize <- ddf.dat.striped$totsize/sd(ddf.dat.striped$totsize)
ddf.dat.striped$scaledtimeofday <- ddf.dat.striped$timeofday/sd(ddf.dat.striped$timeofday)
ddf.5 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.striped, meta.data = list(width = 5.5))                #strip~1
ddf.6 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.striped, meta.data = list(width = 5.5))    #strip~size
ddf.7 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.striped, meta.data = list(width = 5.5))  #strip~timeofday
#Rough toothed: ~ school size (15 - rough-toothed)
ddf.dat.roughtoothed <- na.omit(ddf.dat[ddf.dat$species%in%c(15), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.roughtoothed$scaledtotsize <- ddf.dat.roughtoothed$totsize/sd(ddf.dat.roughtoothed$totsize)                                         #rtooth~size
ddf.8 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.roughtoothed, meta.data = list(width = 5.5))
#Short-beaked common: ~ pd only, ~ school size, ~ time (16 - Long beaked common dolphin, Baja neritic common dolphin, 17 - Short-beaked common dolphin, 5 - Unidentified common dolphin, saddleback dolphin, whitebelly porpoise)
ddf.dat.common <- na.omit(ddf.dat[ddf.dat$species%in%c(16,17,5), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.common$scaledtotsize <- ddf.dat.common$totsize/sd(ddf.dat.common$totsize)
ddf.dat.common$scaledtimeofday <- ddf.dat.common$timeofday/sd(ddf.dat.common$timeofday)
ddf.9 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.common, meta.data = list(width = 5.5))                #common~1
ddf.10 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.common, meta.data = list(width = 5.5))   #common~size
ddf.11 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.common, meta.data = list(width = 5.5)) #common~timeofday
#Bottlenose: ~ school size, ~ school size + Beaufort (18 - Bottlenose dolphin, black porpoise, common porpoise)
ddf.dat.bottlenose <- na.omit(ddf.dat[ddf.dat$species%in%c(18), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.bottlenose$scaledtotsize <- ddf.dat.bottlenose$totsize/sd(ddf.dat.bottlenose$totsize)
ddf.12 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.bottlenose, meta.data = list(width = 5.5))    #bnose~size
ddf.13 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize + beaufort), data = ddf.dat.bottlenose, meta.data = list(width = 5.5)) #bnose~size+beau
#Risso's: ~ pd only, ~ school size (21 - Risso's dolphin, gray grampus)
ddf.dat.rissos <- na.omit(ddf.dat[ddf.dat$species%in%c(21), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.rissos$scaledtotsize <- ddf.dat.rissos$totsize/sd(ddf.dat.rissos$totsize)
ddf.14 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.rissos, meta.data = list(width = 5.5))                 #risso~1
ddf.15 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.rissos, meta.data = list(width = 5.5))     #risso~size
#Unidentified:  ~ pd only, ~time, ~ school size (77 - Unidentified dolphin or porpoise)
#ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77,177,277), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.unidentified$scaledtotsize <- ddf.dat.unidentified$totsize/sd(ddf.dat.unidentified$totsize)
ddf.dat.unidentified$scaledtimeofday <- ddf.dat.unidentified$timeofday/sd(ddf.dat.unidentified$timeofday)
ddf.16 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.unidentified, meta.data = list(width = 5.5))               #unid~1
ddf.17 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.unidentified, meta.data = list(width = 5.5)) #unid~timeofday
ddf.18 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.unidentified, meta.data = list(width = 5.5))   #unid~size
##################
#MADS setup
##################
#describes which models are to be tried for each species
#model.names <- list("2"=c("ddf.1","ddf.2"),
model.names <- list("2A"=c("ddf.1","ddf.2"),
"2B"=c("ddf.1","ddf.2"),
"6"=c("ddf.1","ddf.2"),
"90"=c("ddf.1","ddf.2"),
"10"=c("ddf.3","ddf.4"),
"11"=c("ddf.3","ddf.4"),
"3"=c("ddf.3","ddf.4"),
"13"=c("ddf.5","ddf.6","ddf.7"),
"15"="ddf.8",
"17"=c("ddf.9","ddf.10","ddf.11"),
"18"=c("ddf.12","ddf.13"),
"21"=c("ddf.14","ddf.15"),
"77"=c("ddf.16","ddf.17","ddf.18"),
"177"=c("ddf.16","ddf.17","ddf.18"),
"277"=c("ddf.16","ddf.17","ddf.18"))
#supplies the models
ddf.models <- list("ddf.1" = ddf.1, "ddf.2" = ddf.2, "ddf.3" = ddf.3, "ddf.4" = ddf.4, "ddf.5" = ddf.5, "ddf.6" = ddf.6, "ddf.7" = ddf.7, "ddf.8" = ddf.8, "ddf.9" = ddf.9, "ddf.10" = ddf.10, "ddf.11" = ddf.11, "ddf.12" = ddf.12, "ddf.13" = ddf.13, "ddf.14" = ddf.14, "ddf.15" = ddf.15, "ddf.16" = ddf.16, "ddf.17" = ddf.17, "ddf.18" = ddf.18)
#specifies the unidentified codes and which species they are to be prorated to
#unidentified.sightings = list("90"=c(2,6),
unidentified.sightings = list("90"=c("2A","2B",6),
"3"=c(10,11),
#"77"=c(2,6,10,11,13,15,17,18,21),
#"177"=c(2,6,10,11,13,17),
"77"=c("2A","2B",6,10,11,13,15,17,18,21),
"177"=c("2A","2B",6,10,11,13,17),
"277"=c(15,18,21))
#described which species are present in each strata
# species.presence <- list("1. A" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "2. B" = c("2","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "3. C" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "4. D" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "5. E" = c("2","10","11","88","100","101","102","13","15","16","17","18","21"))
species.presence <- list("1. A" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"2. B" = c("2A","2B","10","11","88","100","101","102","13","15","16","17","18","21"),
"3. C" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"4. D" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"5. E" = c("2A","2B","10","11","88","100","101","102","13","15","16","17","18","21"))
#describes covariate uncertainty to be added to the total clusters size values.
covariate.uncertainty = data.frame(variable.layer = c("observation"), variable.name = c("scaledtotsize"), cor.factor.layer = "numeric", cor.factor.name = 1, uncertainty.layer = c("observation"), uncertainty.name = c("totsizecv"), uncertainty.measure = c("CV"), sampling.distribution = c("Lognormal.BC"))
#other options
ddf.model.options <- list(criterion="AICc")
bootstrap <- TRUE
bootstrap.options = list(resample="samples", n=9, quantile.type = 7)
#run analysis
set.seed(747)
#results <- execute.multi.analysis(species.code = names(model.names), unidentified.sightings, species.presence, covariate.uncertainty, models.by.species.code = model.names, ddf.model.objects = ddf.models, ddf.model.options = list(criterion="AIC"), region.table, sample.table, obs.table, bootstrap, bootstrap.options, silent = TRUE)
#results <- execute.multi.analysis(species.code = names(model.names), unidentified.sightings, species.presence, covariate.uncertainty = NULL, models.by.species.code = model.names, ddf.model.objects = ddf.models, ddf.model.options = list(criterion="AIC"), region.table, sample.table, obs.table, bootstrap, bootstrap.options, silent = TRUE)
results2 <- execute.multi.analysis(species.code = names(model.names), unidentified.sightings, species.presence, covariate.uncertainty = NULL, models.by.species.code = model.names, ddf.model.objects = ddf.models, ddf.model.options = list(criterion="AIC"), region.table, sample.table, obs.table, bootstrap = FALSE, bootstrap.options, silent = TRUE)
summary(results[[2]][[1]])
summary(results2[[2]][[1]])
library(mrds)
library(mads)
ex.filename<-system.file("testData/ds_example/ddf_dat.robj", package="mads")
load(ex.filename)
ex.filename<-system.file("testData/ds_example/obs_table.robj", package="mads")
load(ex.filename)
ex.filename<-system.file("testData/ds_example/region_table.robj", package="mads")
load(ex.filename)
ex.filename<-system.file("testData/ds_example/sample_table.robj", package="mads")
load(ex.filename)
#NOTE THAT THE SPECIES HAVE BEEN RENAMED AS FOLLOWS
ddf.dat$species[which(ddf.dat$species == 2 & ddf.dat$stratum.label == "A")] <- "2A"
ddf.dat$species[which(ddf.dat$species == 2 & ddf.dat$stratum.label == "B")] <- "2B"
ddf.dat$species[which(ddf.dat$species == 2 & ddf.dat$stratum.label == "C")] <- "2A"
ddf.dat$species[which(ddf.dat$species == 2 & ddf.dat$stratum.label %in% c("D","E"))] <- "2B"
# SPECIES RENAMING REMOVED AS THIS IS DONE IN POST PROCESSING
#ddf.dat$species[ddf.dat$species == "2A" | ddf.dat$species == "2B"] <- 2
#NOTE THAT TO FIT THE ddf MODELS IN mrds I NEEDED TO SCALE TOTAL CLUSTER SIZE
####################
#DDF ANALYSES
####################
#Spotted: ~ school size, ~ pd only (2A,2B - offshore spotted, 6 - coastal spotted, 90 - unidentified spotted)
#ddf.dat.spotted <- na.omit(ddf.dat[ddf.dat$species%in%c(2,6,90), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spotted <- na.omit(ddf.dat[ddf.dat$species%in%c("2A","2B",6,90), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spotted$scaledtotsize <- ddf.dat.spotted$totsize/sd(ddf.dat.spotted$totsize)
ddf.1 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.spotted, meta.data = list(width = 5.5))
#spot~size
ddf.2 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.spotted, meta.data = list(width = 5.5))                   #spot~1
#Spinner - ~ school size, ~ pd only (10 - eastern spinner, 11 - whitebelly spinner, 88 - Central American spinner dolphin, Costa Rican spinner dolphin, 100 - Tres Marias spinner dolphin, 101 - Southwestern spinner dolphin, 102 - Gray's spinner dolphin, pantropical spinner dolphin, 103 - Undetermined eastern or Central American spinner dolphin, 3 - unidentified spinner)
ddf.dat.spinner <- na.omit(ddf.dat[ddf.dat$species%in%c(10,11,88,100,101,102,103,3), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spinner$scaledtotsize <- ddf.dat.spinner$totsize/sd(ddf.dat.spinner$totsize)
ddf.3 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.spinner, meta.data = list(width = 5.5))   #spin~size
ddf.4 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.spinner, meta.data = list(width = 5.5))               #spin~1
#Striped:  ~ pd only, ~ school size, ~ time (13 - striped)
ddf.dat.striped <- na.omit(ddf.dat[ddf.dat$species%in%c(13), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.striped$scaledtotsize <- ddf.dat.striped$totsize/sd(ddf.dat.striped$totsize)
ddf.dat.striped$scaledtimeofday <- ddf.dat.striped$timeofday/sd(ddf.dat.striped$timeofday)
ddf.5 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.striped, meta.data = list(width = 5.5))                #strip~1
ddf.6 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.striped, meta.data = list(width = 5.5))    #strip~size
ddf.7 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.striped, meta.data = list(width = 5.5))  #strip~timeofday
#Rough toothed: ~ school size (15 - rough-toothed)
ddf.dat.roughtoothed <- na.omit(ddf.dat[ddf.dat$species%in%c(15), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.roughtoothed$scaledtotsize <- ddf.dat.roughtoothed$totsize/sd(ddf.dat.roughtoothed$totsize)                                         #rtooth~size
ddf.8 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.roughtoothed, meta.data = list(width = 5.5))
#Short-beaked common: ~ pd only, ~ school size, ~ time (16 - Long beaked common dolphin, Baja neritic common dolphin, 17 - Short-beaked common dolphin, 5 - Unidentified common dolphin, saddleback dolphin, whitebelly porpoise)
ddf.dat.common <- na.omit(ddf.dat[ddf.dat$species%in%c(16,17,5), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.common$scaledtotsize <- ddf.dat.common$totsize/sd(ddf.dat.common$totsize)
ddf.dat.common$scaledtimeofday <- ddf.dat.common$timeofday/sd(ddf.dat.common$timeofday)
ddf.9 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.common, meta.data = list(width = 5.5))                #common~1
ddf.10 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.common, meta.data = list(width = 5.5))   #common~size
ddf.11 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.common, meta.data = list(width = 5.5)) #common~timeofday
#Bottlenose: ~ school size, ~ school size + Beaufort (18 - Bottlenose dolphin, black porpoise, common porpoise)
ddf.dat.bottlenose <- na.omit(ddf.dat[ddf.dat$species%in%c(18), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.bottlenose$scaledtotsize <- ddf.dat.bottlenose$totsize/sd(ddf.dat.bottlenose$totsize)
ddf.12 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.bottlenose, meta.data = list(width = 5.5))    #bnose~size
ddf.13 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize + beaufort), data = ddf.dat.bottlenose, meta.data = list(width = 5.5)) #bnose~size+beau
#Risso's: ~ pd only, ~ school size (21 - Risso's dolphin, gray grampus)
ddf.dat.rissos <- na.omit(ddf.dat[ddf.dat$species%in%c(21), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.rissos$scaledtotsize <- ddf.dat.rissos$totsize/sd(ddf.dat.rissos$totsize)
ddf.14 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.rissos, meta.data = list(width = 5.5))                 #risso~1
ddf.15 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.rissos, meta.data = list(width = 5.5))     #risso~size
#Unidentified:  ~ pd only, ~time, ~ school size (77 - Unidentified dolphin or porpoise)
#ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77,177,277), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.unidentified$scaledtotsize <- ddf.dat.unidentified$totsize/sd(ddf.dat.unidentified$totsize)
ddf.dat.unidentified$scaledtimeofday <- ddf.dat.unidentified$timeofday/sd(ddf.dat.unidentified$timeofday)
ddf.16 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.unidentified, meta.data = list(width = 5.5))               #unid~1
ddf.17 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.unidentified, meta.data = list(width = 5.5)) #unid~timeofday
ddf.18 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.unidentified, meta.data = list(width = 5.5))   #unid~size
##################
#MADS setup
##################
#describes which models are to be tried for each species
#model.names <- list("2"=c("ddf.1","ddf.2"),
model.names <- list("2A"=c("ddf.1","ddf.2"),
"2B"=c("ddf.1","ddf.2"),
"6"=c("ddf.1","ddf.2"),
"90"=c("ddf.1","ddf.2"),
"10"=c("ddf.3","ddf.4"),
"11"=c("ddf.3","ddf.4"),
"3"=c("ddf.3","ddf.4"),
"13"=c("ddf.5","ddf.6","ddf.7"),
"15"="ddf.8",
"17"=c("ddf.9","ddf.10","ddf.11"),
"18"=c("ddf.12","ddf.13"),
"21"=c("ddf.14","ddf.15"),
"77"=c("ddf.16","ddf.17","ddf.18"))#,
# "177"=c("ddf.16","ddf.17","ddf.18"),
# "277"=c("ddf.16","ddf.17","ddf.18"))
#supplies the models
ddf.models <- list("ddf.1" = ddf.1, "ddf.2" = ddf.2, "ddf.3" = ddf.3, "ddf.4" = ddf.4, "ddf.5" = ddf.5, "ddf.6" = ddf.6, "ddf.7" = ddf.7, "ddf.8" = ddf.8, "ddf.9" = ddf.9, "ddf.10" = ddf.10, "ddf.11" = ddf.11, "ddf.12" = ddf.12, "ddf.13" = ddf.13, "ddf.14" = ddf.14, "ddf.15" = ddf.15, "ddf.16" = ddf.16, "ddf.17" = ddf.17, "ddf.18" = ddf.18)
#specifies the unidentified codes and which species they are to be prorated to
#unidentified.sightings = list("90"=c(2,6),
unidentified.sightings = list("90"=c("2A","2B",6),
"3"=c(10,11),
#"77"=c(2,6,10,11,13,15,17,18,21),
#"177"=c(2,6,10,11,13,17),
"77"=c("2A","2B",6,10,11,13,15,17,18,21))#,
#                              "177"=c("2A","2B",6,10,11,13,17),
#                              "277"=c(15,18,21))
#described which species are present in each strata
# species.presence <- list("1. A" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "2. B" = c("2","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "3. C" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "4. D" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "5. E" = c("2","10","11","88","100","101","102","13","15","16","17","18","21"))
species.presence <- list("1. A" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"2. B" = c("2A","2B","10","11","88","100","101","102","13","15","16","17","18","21"),
"3. C" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"4. D" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"5. E" = c("2A","2B","10","11","88","100","101","102","13","15","16","17","18","21"))
#describes covariate uncertainty to be added to the total clusters size values.
covariate.uncertainty = data.frame(variable.layer = c("observation"), variable.name = c("scaledtotsize"), cor.factor.layer = "numeric", cor.factor.name = 1, uncertainty.layer = c("observation"), uncertainty.name = c("totsizecv"), uncertainty.measure = c("CV"), sampling.distribution = c("Lognormal.BC"))
#other options
ddf.model.options <- list(criterion="AICc")
bootstrap <- TRUE
bootstrap.options = list(resample="samples", n=9, quantile.type = 7)
#run analysis
set.seed(747)
results2 <- execute.multi.analysis(species.code = names(model.names), unidentified.sightings, species.presence, covariate.uncertainty = NULL, models.by.species.code = model.names, ddf.model.objects = ddf.models, ddf.model.options = list(criterion="AIC"), region.table, sample.table, obs.table, bootstrap = FALSE, bootstrap.options, silent = TRUE)
summary(results2[[2]][[1]])
27842+710996
27842+710996+3785+143381+455
(3785+143381+455)/886459*!00
(3785+143381+455)/886459*100
library(mrds)
library(mads)
ex.filename<-system.file("testData/ds_example/ddf_dat.robj", package="mads")
load(ex.filename)
ex.filename<-system.file("testData/ds_example/obs_table.robj", package="mads")
load(ex.filename)
ex.filename<-system.file("testData/ds_example/region_table.robj", package="mads")
load(ex.filename)
ex.filename<-system.file("testData/ds_example/sample_table.robj", package="mads")
load(ex.filename)
#NOTE THAT THE SPECIES HAVE BEEN RENAMED AS FOLLOWS
ddf.dat$species[which(ddf.dat$species == 2 & ddf.dat$stratum.label == "A")] <- "2A"
ddf.dat$species[which(ddf.dat$species == 2 & ddf.dat$stratum.label == "B")] <- "2B"
ddf.dat$species[which(ddf.dat$species == 2 & ddf.dat$stratum.label == "C")] <- "2A"
ddf.dat$species[which(ddf.dat$species == 2 & ddf.dat$stratum.label %in% c("D","E"))] <- "2B"
# SPECIES RENAMING REMOVED AS THIS IS DONE IN POST PROCESSING
#ddf.dat$species[ddf.dat$species == "2A" | ddf.dat$species == "2B"] <- 2
#NOTE THAT TO FIT THE ddf MODELS IN mrds I NEEDED TO SCALE TOTAL CLUSTER SIZE
####################
#DDF ANALYSES
####################
#Spotted: ~ school size, ~ pd only (2A,2B - offshore spotted, 6 - coastal spotted, 90 - unidentified spotted)
#ddf.dat.spotted <- na.omit(ddf.dat[ddf.dat$species%in%c(2,6,90), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spotted <- na.omit(ddf.dat[ddf.dat$species%in%c("2A","2B",6,90), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spotted$scaledtotsize <- ddf.dat.spotted$totsize/sd(ddf.dat.spotted$totsize)
ddf.1 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.spotted, meta.data = list(width = 5.5))
#spot~size
ddf.2 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.spotted, meta.data = list(width = 5.5))                   #spot~1
#Spinner - ~ school size, ~ pd only (10 - eastern spinner, 11 - whitebelly spinner, 88 - Central American spinner dolphin, Costa Rican spinner dolphin, 100 - Tres Marias spinner dolphin, 101 - Southwestern spinner dolphin, 102 - Gray's spinner dolphin, pantropical spinner dolphin, 103 - Undetermined eastern or Central American spinner dolphin, 3 - unidentified spinner)
ddf.dat.spinner <- na.omit(ddf.dat[ddf.dat$species%in%c(10,11,88,100,101,102,103,3), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.spinner$scaledtotsize <- ddf.dat.spinner$totsize/sd(ddf.dat.spinner$totsize)
ddf.3 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.spinner, meta.data = list(width = 5.5))   #spin~size
ddf.4 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.spinner, meta.data = list(width = 5.5))               #spin~1
#Striped:  ~ pd only, ~ school size, ~ time (13 - striped)
ddf.dat.striped <- na.omit(ddf.dat[ddf.dat$species%in%c(13), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.striped$scaledtotsize <- ddf.dat.striped$totsize/sd(ddf.dat.striped$totsize)
ddf.dat.striped$scaledtimeofday <- ddf.dat.striped$timeofday/sd(ddf.dat.striped$timeofday)
ddf.5 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.striped, meta.data = list(width = 5.5))                #strip~1
ddf.6 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.striped, meta.data = list(width = 5.5))    #strip~size
ddf.7 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.striped, meta.data = list(width = 5.5))  #strip~timeofday
#Rough toothed: ~ school size (15 - rough-toothed)
ddf.dat.roughtoothed <- na.omit(ddf.dat[ddf.dat$species%in%c(15), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.roughtoothed$scaledtotsize <- ddf.dat.roughtoothed$totsize/sd(ddf.dat.roughtoothed$totsize)                                         #rtooth~size
ddf.8 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.roughtoothed, meta.data = list(width = 5.5))
#Short-beaked common: ~ pd only, ~ school size, ~ time (16 - Long beaked common dolphin, Baja neritic common dolphin, 17 - Short-beaked common dolphin, 5 - Unidentified common dolphin, saddleback dolphin, whitebelly porpoise)
ddf.dat.common <- na.omit(ddf.dat[ddf.dat$species%in%c(16,17,5), c(1,2,3,7,8,9,10,11,12,22,23,29)])
ddf.dat.common$scaledtotsize <- ddf.dat.common$totsize/sd(ddf.dat.common$totsize)
ddf.dat.common$scaledtimeofday <- ddf.dat.common$timeofday/sd(ddf.dat.common$timeofday)
ddf.9 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.common, meta.data = list(width = 5.5))                #common~1
ddf.10 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.common, meta.data = list(width = 5.5))   #common~size
ddf.11 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.common, meta.data = list(width = 5.5)) #common~timeofday
#Bottlenose: ~ school size, ~ school size + Beaufort (18 - Bottlenose dolphin, black porpoise, common porpoise)
ddf.dat.bottlenose <- na.omit(ddf.dat[ddf.dat$species%in%c(18), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.bottlenose$scaledtotsize <- ddf.dat.bottlenose$totsize/sd(ddf.dat.bottlenose$totsize)
ddf.12 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.bottlenose, meta.data = list(width = 5.5))    #bnose~size
ddf.13 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize + beaufort), data = ddf.dat.bottlenose, meta.data = list(width = 5.5)) #bnose~size+beau
#Risso's: ~ pd only, ~ school size (21 - Risso's dolphin, gray grampus)
ddf.dat.rissos <- na.omit(ddf.dat[ddf.dat$species%in%c(21), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.rissos$scaledtotsize <- ddf.dat.rissos$totsize/sd(ddf.dat.rissos$totsize)
ddf.14 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.rissos, meta.data = list(width = 5.5))                 #risso~1
ddf.15 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.rissos, meta.data = list(width = 5.5))     #risso~size
#Unidentified:  ~ pd only, ~time, ~ school size (77 - Unidentified dolphin or porpoise)
ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77,177,277), c(1,2,3,7,8,10,11,12,22,23,29)])
#ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.unidentified$scaledtotsize <- ddf.dat.unidentified$totsize/sd(ddf.dat.unidentified$totsize)
ddf.dat.unidentified$scaledtimeofday <- ddf.dat.unidentified$timeofday/sd(ddf.dat.unidentified$timeofday)
ddf.16 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.unidentified, meta.data = list(width = 5.5))               #unid~1
ddf.17 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.unidentified, meta.data = list(width = 5.5)) #unid~timeofday
ddf.18 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.unidentified, meta.data = list(width = 5.5))   #unid~size
##################
#MADS setup
##################
#describes which models are to be tried for each species
#model.names <- list("2"=c("ddf.1","ddf.2"),
model.names <- list("2A"=c("ddf.1","ddf.2"),
"2B"=c("ddf.1","ddf.2"),
"6"=c("ddf.1","ddf.2"),
"90"=c("ddf.1","ddf.2"),
"10"=c("ddf.3","ddf.4"),
"11"=c("ddf.3","ddf.4"),
"3"=c("ddf.3","ddf.4"),
"13"=c("ddf.5","ddf.6","ddf.7"),
"15"="ddf.8",
"17"=c("ddf.9","ddf.10","ddf.11"),
"18"=c("ddf.12","ddf.13"),
"21"=c("ddf.14","ddf.15"),
"77"=c("ddf.16","ddf.17","ddf.18")),
"177"=c("ddf.16","ddf.17","ddf.18"),
"277"=c("ddf.16","ddf.17","ddf.18"))
#supplies the models
ddf.models <- list("ddf.1" = ddf.1, "ddf.2" = ddf.2, "ddf.3" = ddf.3, "ddf.4" = ddf.4, "ddf.5" = ddf.5, "ddf.6" = ddf.6, "ddf.7" = ddf.7, "ddf.8" = ddf.8, "ddf.9" = ddf.9, "ddf.10" = ddf.10, "ddf.11" = ddf.11, "ddf.12" = ddf.12, "ddf.13" = ddf.13, "ddf.14" = ddf.14, "ddf.15" = ddf.15, "ddf.16" = ddf.16, "ddf.17" = ddf.17, "ddf.18" = ddf.18)
#specifies the unidentified codes and which species they are to be prorated to
#unidentified.sightings = list("90"=c(2,6),
unidentified.sightings = list("90"=c("2A","2B",6),
"3"=c(10,11),
#"77"=c(2,6,10,11,13,15,17,18,21),
#"177"=c(2,6,10,11,13,17),
"77"=c("2A","2B",6,10,11,13,15,17,18,21)),
"177"=c("2A","2B",6,10,11,13,17),
"277"=c(15,18,21))
#described which species are present in each strata
# species.presence <- list("1. A" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "2. B" = c("2","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "3. C" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "4. D" = c("2","6","10","11","88","100","101","102","13","15","16","17","18","21"),
#                          "5. E" = c("2","10","11","88","100","101","102","13","15","16","17","18","21"))
species.presence <- list("1. A" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"2. B" = c("2A","2B","10","11","88","100","101","102","13","15","16","17","18","21"),
"3. C" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"4. D" = c("2A","2B","6","10","11","88","100","101","102","13","15","16","17","18","21"),
"5. E" = c("2A","2B","10","11","88","100","101","102","13","15","16","17","18","21"))
#describes covariate uncertainty to be added to the total clusters size values.
covariate.uncertainty = data.frame(variable.layer = c("observation"), variable.name = c("scaledtotsize"), cor.factor.layer = "numeric", cor.factor.name = 1, uncertainty.layer = c("observation"), uncertainty.name = c("totsizecv"), uncertainty.measure = c("CV"), sampling.distribution = c("Lognormal.BC"))
#other options
ddf.model.options <- list(criterion="AICc")
bootstrap <- TRUE
bootstrap.options = list(resample="samples", n=9, quantile.type = 7)
#run analysis
set.seed(747)
results2 <- execute.multi.analysis(species.code = names(model.names), unidentified.sightings, species.presence, covariate.uncertainty = NULL, models.by.species.code = model.names, ddf.model.objects = ddf.models, ddf.model.options = list(criterion="AIC"), region.table, sample.table, obs.table, bootstrap = FALSE, bootstrap.options, silent = TRUE)
model.names <- list("2A"=c("ddf.1","ddf.2"),
"2B"=c("ddf.1","ddf.2"),
"6"=c("ddf.1","ddf.2"),
"90"=c("ddf.1","ddf.2"),
"10"=c("ddf.3","ddf.4"),
"11"=c("ddf.3","ddf.4"),
"3"=c("ddf.3","ddf.4"),
"13"=c("ddf.5","ddf.6","ddf.7"),
"15"="ddf.8",
"17"=c("ddf.9","ddf.10","ddf.11"),
"18"=c("ddf.12","ddf.13"),
"21"=c("ddf.14","ddf.15"),
"77"=c("ddf.16","ddf.17","ddf.18"),
"177"=c("ddf.16","ddf.17","ddf.18"),
"277"=c("ddf.16","ddf.17","ddf.18"))
#supplies the models
ddf.models <- list("ddf.1" = ddf.1, "ddf.2" = ddf.2, "ddf.3" = ddf.3, "ddf.4" = ddf.4, "ddf.5" = ddf.5, "ddf.6" = ddf.6, "ddf.7" = ddf.7, "ddf.8" = ddf.8, "ddf.9" = ddf.9, "ddf.10" = ddf.10, "ddf.11" = ddf.11, "ddf.12" = ddf.12, "ddf.13" = ddf.13, "ddf.14" = ddf.14, "ddf.15" = ddf.15, "ddf.16" = ddf.16, "ddf.17" = ddf.17, "ddf.18" = ddf.18)
#specifies the unidentified codes and which species they are to be prorated to
#unidentified.sightings = list("90"=c(2,6),
unidentified.sightings = list("90"=c("2A","2B",6),
"3"=c(10,11),
#"77"=c(2,6,10,11,13,15,17,18,21),
#"177"=c(2,6,10,11,13,17),
"77"=c("2A","2B",6,10,11,13,15,17,18,21),
"177"=c("2A","2B",6,10,11,13,17),
"277"=c(15,18,21))
results2 <- execute.multi.analysis(species.code = names(model.names), unidentified.sightings, species.presence, covariate.uncertainty = NULL, models.by.species.code = model.names, ddf.model.objects = ddf.models, ddf.model.options = list(criterion="AIC"), region.table, sample.table, obs.table, bootstrap = FALSE, bootstrap.options, silent = TRUE)
summary(results[[3]])
summary(results2[[3]])
obs.table.subset <- create.obs.table(obs.table, ddf.data = ddf.17$data, subset.variable = "species", subset.value = 77)
create.obs.table <- function(obs.table, ddf.data, subset.variable, subset.value){
object.index <- which(ddf.data[[subset.variable]] == subset.value)
object.id <- ddf.data[object.index,]$object
obs.table.subset <- obs.table[which(obs.table$object%in%object.id),]
return(obs.table.subset)
}
obs.table.subset <- create.obs.table(obs.table, ddf.data = ddf.17$data, subset.variable = "species", subset.value = 77)
dht.results <- dht(ddf.17, region.table, sample.table, obs.table.subset)
dht.results$individuals$N
ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.17 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.unidentified, meta.data = list(width = 5.5)) #unid~timeofday
ddf.dat.unidentified$scaledtimeofday <- ddf.dat.unidentified$timeofday/sd(ddf.dat.unidentified$timeofday)
ddf.17 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.unidentified, meta.data = list(width = 5.5)) #unid~timeofday
ddf.16 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.unidentified, meta.data = list(width = 5.5))               #unid~1
ddf.18 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.unidentified, meta.data = list(width = 5.5))   #unid~size
ddf.dat.unidentified$scaledtotsize <- ddf.dat.unidentified$totsize/sd(ddf.dat.unidentified$totsize)
ddf.dat.unidentified$scaledtimeofday <- ddf.dat.unidentified$timeofday/sd(ddf.dat.unidentified$timeofday)
ddf.16 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.unidentified, meta.data = list(width = 5.5))               #unid~1
ddf.17 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.unidentified, meta.data = list(width = 5.5)) #unid~timeofday
ddf.18 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.unidentified, meta.data = list(width = 5.5))   #unid~size
ddf.16$criterion
ddf.17$criterion
ddf.18$criterion
obs.table.subset <- create.obs.table(obs.table, ddf.data = ddf.18$data, subset.variable = "species", subset.value = 77)
dht.results <- dht(ddf.18, region.table, sample.table, obs.table.subset)
dht.results$individuals$N
dht.results <- dht(ddf.17, region.table, sample.table, obs.table.subset)
dht.results$individuals$N
plot(ddf.18)
par(mfrow=c(1,2))
plot(ddf.17)
plot(ddf.18)
ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77,177,277), c(1,2,3,7,8,10,11,12,22,23,29)])
#ddf.dat.unidentified <- na.omit(ddf.dat[ddf.dat$species%in%c(22,26,27,77), c(1,2,3,7,8,10,11,12,22,23,29)])
ddf.dat.unidentified$scaledtotsize <- ddf.dat.unidentified$totsize/sd(ddf.dat.unidentified$totsize)
ddf.dat.unidentified$scaledtimeofday <- ddf.dat.unidentified$timeofday/sd(ddf.dat.unidentified$timeofday)
ddf.16 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~1), data = ddf.dat.unidentified, meta.data = list(width = 5.5))               #unid~1
ddf.17 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtimeofday), data = ddf.dat.unidentified, meta.data = list(width = 5.5)) #unid~timeofday
ddf.18 <- ddf(method='ds', dsmodel = ~mcds(key = 'hn', formula = ~scaledtotsize), data = ddf.dat.unidentified, meta.data = list(width = 5.5))   #unid~size
plot(ddf.17)
plot(ddf.18)
summary(ddf.dat.unidentified$scaledtotsize)
boxplot(ddf.dat.unidentified$scaledtotsize)
boxplot(ddf.dat.unidentified$totsize)
ddf.dat.unidentified[ddf.dat.unidentified$totsize > 500]
ddf.dat.unidentified[ddf.dat.unidentified$totsize > 500,]
install.packages(c("CircStats", "lattice", "matrixStats", "plyr",
"Rcpp", "R2admb", "secr", "testthat", "downloader"))
if (.Platform$OS == "windows"){
os <- "win"
ext <- ".zip"
} else if (.Platform$OS == "unix"){
if (Sys.info()["sysname"] == "Linux"){
os <- "linux"
ext <- ".tar.gz"
} else if (Sys.info()["sysname"] == "Darwin"){
os <- "osx"
ext <- ".tgz"
} else {
stop("Unknown OS type.")
}
} else {
stop("Unknown OS type.")
}
bin.name <- paste("https://github.com/b-steve/admbsecr/releases/download/v1.0.6/admbsecr_1.0.6-",
os, ext, sep = "")
dest <- paste("admbsecr_1.0.6", ext, sep = "")
library(downloader)
download(bin.name, destfile = dest)
install.packages(dest, repos = NULL)
unlink(dest)
library(admbsecr)
test.admbsecr()
require(sp)
require(rgeos)
setwd("/Users/laura/Documents/Work/DSsim Simulations/Subjective v ZZ and Parallel")
region.shapefile <- read.shapefile("Region")
library(shapefiles)
region.shapefile <- read.shapefile("Region")
poly <- region.shapefile$shp
transects <- read.shapefile("Para Sys Plus/S1")
lines <- transects$shp
chopped <- gIntersection(poly, lines)
require(sp)
require(rgeos)
require(maptools)
poly <- readShapePoly("Region.shp")
lines <- readShapeLines("Para Sys Plus/S1.shp")
chopped <- gIntersection(poly, lines)
plot(poly)
plot(chopped, add= T)
plot(region.shapefile)
library(DSsim)
?make.region
par(mfrow=c(1,2))
plot(poly)
plot(lines, add = T)
plot(poly)
plot(chopped, add= T, col = 4)
poly
setwd("/Users/laura/DSsim")
library(roxygen2)
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
setwd("/Users/laura/Example")
#setwd("/Users/laura/Dropbox/DistanceProgramming/Simulation")
library(roxygen2)
roxygenize(package.dir = "Example", roclets = c("rd"))
roxygenize(package.dir = "Example", roclets = c("rd"))
setwd("/Users/laura/DSsim")
#setwd("/Users/laura/Dropbox/DistanceProgramming/Simulation")
library(roxygen2)
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
install.packages("roxygen2")
install.packages("roxygen2")
setwd("/Users/laura/DSsim")
#setwd("/Users/laura/Dropbox/DistanceProgramming/Simulation")
library(roxygen2)
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
roxygenize(package.dir = "DSsim", roclets = c("rd"))
